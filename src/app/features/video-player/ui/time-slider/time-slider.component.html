<div class="time-slider-container" 
     role="group" 
     [attr.aria-label]="'Contrôle de progression vidéo' + (disabled ? ', désactivé' : '')">
  <!-- Buffered progress track -->
  <div class="slider-track" 
       role="progressbar" 
       [attr.aria-label]="'Mémoire tampon: ' + bufferedPercentage + ' pour cent'"
       [attr.aria-valuenow]="bufferedPercentage"
       [attr.aria-valuemin]="0"
       [attr.aria-valuemax]="100">
    <div 
      class="buffered-progress"
      [style.width.%]="bufferedPercentage"
      aria-hidden="true"
    ></div>
    
    <!-- Progress fill -->
    <div 
      class="progress-fill"
      [style.width.%]="progressPercentage"
      aria-hidden="true"
    ></div>
    
    <!-- Interactive range input -->
    <input 
      type="range"
      class="time-slider"
      [class.dragging]="isDragging"
      [value]="progressPercentage"
      [disabled]="disabled"
      min="0"
      max="100"
      step="0.1"
      (input)="onSeek($event)"
      (mousedown)="onSeekStart()"
      (mouseup)="onSeekEnd()"
      (touchstart)="onSeekStart()"
      (touchend)="onSeekEnd()"
      (click)="onSliderClick($event)"
      [attr.aria-label]="'Progression de la vidéo' + (isDragging ? ', navigation en cours' : '') + (disabled ? ', désactivé' : '')"
      [attr.aria-valuenow]="progressPercentage"
      [attr.aria-valuemin]="0"
      [attr.aria-valuemax]="100"
      [attr.aria-valuetext]="formatTime(currentTime) + ' sur ' + formatTime(duration)"
      [attr.aria-describedby]="disabled ? 'slider-disabled-help' : 'slider-help'"
      role="slider"
    >
    
    <!-- Visual thumb indicator -->
    <div 
      class="slider-thumb"
      [style.left.%]="progressPercentage"
      [class.visible]="!disabled && duration > 0"
      aria-hidden="true"
    ></div>
  </div>
  
  <!-- Screen reader help text -->
  <div id="slider-help" class="sr-only">
    Utilisez les flèches gauche et droite pour naviguer dans la vidéo. Maintenez Shift pour des déplacements plus précis.
  </div>
  
  <div id="slider-disabled-help" class="sr-only">
    Le contrôle de progression est désactivé pendant le chargement de la vidéo.
  </div>
  
  <!-- Loading state overlay -->
  @if (disabled && duration === 0) {
    <div class="slider-loading" 
         role="status" 
         aria-label="Chargement de la progression vidéo"
         aria-live="polite">
      <div class="loading-shimmer" aria-hidden="true"></div>
    </div>
  }
</div>
